{"version":3,"sources":["components/NewTodo.module.css","components/Nav.module.css","components/TodoItem.module.css","components/Todos.module.css","components/Nav.tsx","components/TodoItem.tsx","models/todos.ts","store/todos-context.tsx","components/Todos.tsx","components/NewTodo.tsx","App.tsx","index.tsx"],"names":["module","exports","Nav","_jsx","className","classes","nav","children","TodoItem","props","item","onClick","onRemoveTodo","text","Todo","_createClass","todotext","key","id","_classCallCheck","this","TodosContext","React","createContext","items","addTodo","Object","removeTodo","TodosContextProvider","_React$useState","useState","_React$useState2","_slicedToArray","updated","setUpdated","_React$useState3","_React$useState4","todos","setTodos","useEffect","fetch","then","res","json","data","loadedTodos","push","addTodoHandler","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","newTodo","wrap","_context","prev","next","Math","random","toFixed","toString","method","body","JSON","stringify","headers","sent","abrupt","stop","_x","apply","arguments","removeTodoHandler","_ref2","_callee2","todoId","_context2","console","log","concat","_x2","contextValue","Provider","value","Todos","todosCtx","useContext","_jsxs","map","todo","bind","NewTodo","_useState","_useState2","error","setError","textInputRef","useRef","submitHandler","event","enteredText","preventDefault","current","trim","length","startsWith","t0","onSubmit","form","htmlFor","type","autoComplete","onChange","ref","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2bcf8726.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"NewTodo_form__2yQ3m\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__18nfQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"TodoItem_item__gsuT3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"todos\":\"Todos_todos__14dwu\"};","import classes from './Nav.module.css';\r\n\r\nconst Nav: React.FC = () => {\r\n    return (\r\n        <nav className={classes.nav}>\r\n            <div>What To Do!</div>\r\n        </nav>\r\n    )\r\n};\r\n\r\nexport default Nav;","import classes from './TodoItem.module.css';\r\n\r\nconst TodoItem: React.FC<{text: string, onRemoveTodo: () => void}> = (props) => {\r\n    return <li className={classes.item} onClick={props.onRemoveTodo}>{props.text}\r\n    </li>\r\n}\r\n\r\nexport default TodoItem;","class Todo {\r\n    key : string;\r\n    id: string;\r\n    text : string;\r\n    constructor(todotext: string, key: string, id: string) {\r\n        this.key = key;\r\n        this.text = todotext;\r\n        this.id = id;\r\n    }\r\n}\r\n\r\nexport default Todo;","import React,{useEffect} from \"react\";\r\nimport Todo from \"../models/todos\";\r\n\r\ntype TodoContextObj = {\r\n    items: Todo[];\r\n    addTodo: (text: string) => Object;\r\n    removeTodo: (id: string) => void;\r\n};\r\n\r\nexport const TodosContext = React.createContext<TodoContextObj>({\r\n  items: [],\r\n  addTodo: (text: string) => Object,\r\n  removeTodo: (id: string) => {},\r\n});\r\n\r\nconst TodosContextProvider : React.FC = (props) => {\r\n    const [updated, setUpdated] = React.useState<boolean>(false);\r\n    const [todos, setTodos] = React.useState<Todo[]>([]);\r\n\r\n    useEffect(() => {\r\n        fetch(\"https://react-food-290bf-default-rtdb.asia-southeast1.firebasedatabase.app/todos.json\")\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            const loadedTodos: Todo[] = [];\r\n            for(const key in data){\r\n                loadedTodos.push(new Todo(\r\n                    data[key].text,\r\n                    key,\r\n                    data[key].id\r\n                ));\r\n            }\r\n            setTodos(loadedTodos);\r\n        })\r\n    },[updated]);\r\n\r\n\r\n    const addTodoHandler = async (text: string) => {\r\n        const newTodo = new Todo(text, \"\", (Math.random() * 1000 + 1).toFixed(2).toString());\r\n        const res = await fetch(\"https://react-food-290bf-default-rtdb.asia-southeast1.firebasedatabase.app/todos.json\",{\r\n            method: \"POST\",\r\n            body: JSON.stringify(newTodo),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        });\r\n        setUpdated(!updated);\r\n        const data: Object= await res.json();\r\n        return data;\r\n    };\r\n    const removeTodoHandler = async (todoId: string) => {\r\n        console.log(todoId);\r\n        const res = await fetch(`https://react-food-290bf-default-rtdb.asia-southeast1.firebasedatabase.app/todos/${todoId}.json`,{\r\n            method: \"DELETE\",\r\n        });\r\n        setUpdated(!updated);\r\n        console.log(res);\r\n    };\r\n    const contextValue: TodoContextObj = {\r\n        items: todos,\r\n        addTodo: addTodoHandler,\r\n        removeTodo: removeTodoHandler,\r\n    };\r\n    return (\r\n        <TodosContext.Provider value={contextValue}>\r\n            {props.children}\r\n        </TodosContext.Provider>\r\n    );\r\n};\r\n\r\nexport default TodosContextProvider;\r\n\r\n\r\n","import React,{useContext,useEffect} from 'react';\r\nimport TodoItem from './TodoItem';\r\nimport {TodosContext} from '../store/todos-context';\r\n\r\nimport classes from './Todos.module.css';\r\n\r\nconst Todos: React.FC = () => {\r\n    const todosCtx = useContext(TodosContext);\r\n    const {items} = todosCtx;\r\n\r\n    useEffect(() => {\r\n        console.log(\"Todos updated!\");\r\n    },[items])\r\n    return (\r\n        <ul className={classes.todos}>\r\n            <p>Tap over Todos to delete</p>\r\n            {todosCtx.items.map(todo => (\r\n                <TodoItem key={todo.id} text={todo.text} onRemoveTodo={todosCtx.removeTodo.bind(null,todo.key)}/>\r\n            ))}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Todos;","import {useRef, useContext,useState} from 'react';\r\nimport { TodosContext } from '../store/todos-context';\r\n\r\nimport classes from './NewTodo.module.css';\r\n\r\nconst NewTodo: React.FC = () => {\r\n  const [error,setError] = useState<string | null>(null);\r\n    const textInputRef = useRef<HTMLInputElement>(null);\r\n    const todosCtx = useContext(TodosContext);\r\n\r\n\r\n    const submitHandler = async (event: React.FormEvent) => {\r\n        event.preventDefault();\r\n        const enteredText = textInputRef.current!.value;\r\n\r\n        if(enteredText.trim().length === 0){\r\n            setError(\"Can't hear you!\")\r\n            return;\r\n        }\r\n        if(enteredText.startsWith(\"Do\")){\r\n          try{\r\n            const res = await todosCtx.addTodo(enteredText);\r\n            if(res){\r\n              setError(null);\r\n              textInputRef.current!.value = \"\";\r\n            }\r\n\r\n          } catch(err){\r\n            console.log(err);\r\n          }\r\n          return\r\n        }\r\n        setError(\"Instructions are meant to be followed!\");\r\n        return;\r\n    }\r\n  return (\r\n    <form onSubmit={submitHandler} className={classes.form}>\r\n      <label htmlFor=\"text\">Start with a \"Do\"!</label>\r\n      <input type=\"text\" id=\"text\" autoComplete='off' onChange={() => setError(null)} ref={textInputRef}/>\r\n      {error && <p className={classes.error}>{error}</p>}\r\n      <button>Add</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewTodo;\r\n","\nimport './App.css';\n\nimport Nav from './components/Nav';\nimport Todos from './components/Todos';\nimport NewTodo from './components/NewTodo';\n\nfunction App() {\n  return ( \n    <div>\n      <Nav />\n      <NewTodo />\n      <Todos />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport TodosContextProvider from './store/todos-context';\n\nReactDOM.render(\n  <TodosContextProvider>\n    <App />\n  </TodosContextProvider>\n    ,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}
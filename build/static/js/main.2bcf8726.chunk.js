(this["webpackJsonpreact-ts"]=this["webpackJsonpreact-ts"]||[]).push([[0],[,,,,,,,function(t,e,n){t.exports={form:"NewTodo_form__2yQ3m"}},,function(t,e,n){t.exports={nav:"Nav_nav__18nfQ"}},function(t,e,n){t.exports={item:"TodoItem_item__gsuT3"}},,function(t,e,n){t.exports={todos:"Todos_todos__14dwu"}},,,,,,function(t,e,n){},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=n(1),o=n.n(r),a=n(8),c=n.n(a),s=(n(18),n(19),n(9)),u=n.n(s),i=n(0),d=function(){return Object(i.jsx)("nav",{className:u.a.nav,children:Object(i.jsx)("div",{children:"What To Do!"})})},f=n(10),b=n.n(f),j=function(t){return Object(i.jsx)("li",{className:b.a.item,onClick:t.onRemoveTodo,children:t.text})},l=n(2),h=n(4),p=n(5),x=n(13),O=n(11),v=Object(x.a)((function t(e,n,r){Object(O.a)(this,t),this.key=void 0,this.id=void 0,this.text=void 0,this.key=n,this.text=e,this.id=r})),m=o.a.createContext({items:[],addTodo:function(t){return Object},removeTodo:function(t){}}),T=function(t){var e=o.a.useState(!1),n=Object(p.a)(e,2),a=n[0],c=n[1],s=o.a.useState([]),u=Object(p.a)(s,2),d=u[0],f=u[1];Object(r.useEffect)((function(){fetch("https://react-food-290bf-default-rtdb.asia-southeast1.firebasedatabase.app/todos.json").then((function(t){return t.json()})).then((function(t){var e=[];for(var n in t)e.push(new v(t[n].text,n,t[n].id));f(e)}))}),[a]);var b=function(){var t=Object(h.a)(Object(l.a)().mark((function t(e){var n,r,o;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new v(e,"",(1e3*Math.random()+1).toFixed(2).toString()),t.next=3,fetch("https://react-food-290bf-default-rtdb.asia-southeast1.firebasedatabase.app/todos.json",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 3:return r=t.sent,c(!a),t.next=7,r.json();case 7:return o=t.sent,t.abrupt("return",o);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(h.a)(Object(l.a)().mark((function t(e){var n;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,fetch("https://react-food-290bf-default-rtdb.asia-southeast1.firebasedatabase.app/todos/".concat(e,".json"),{method:"DELETE"});case 3:n=t.sent,c(!a),console.log(n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x={items:d,addTodo:b,removeTodo:j};return Object(i.jsx)(m.Provider,{value:x,children:t.children})},w=n(12),y=n.n(w),k=function(){var t=Object(r.useContext)(m),e=t.items;return Object(r.useEffect)((function(){console.log("Todos updated!")}),[e]),Object(i.jsxs)("ul",{className:y.a.todos,children:[Object(i.jsx)("p",{children:"Tap over Todos to delete"}),t.items.map((function(e){return Object(i.jsx)(j,{text:e.text,onRemoveTodo:t.removeTodo.bind(null,e.key)},e.id)}))]})},_=n(7),g=n.n(_),C=function(){var t=Object(r.useState)(null),e=Object(p.a)(t,2),n=e[0],o=e[1],a=Object(r.useRef)(null),c=Object(r.useContext)(m),s=function(){var t=Object(h.a)(Object(l.a)().mark((function t(e){var n;return Object(l.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),0!==(n=a.current.value).trim().length){t.next=5;break}return o("Can't hear you!"),t.abrupt("return");case 5:if(!n.startsWith("Do")){t.next=17;break}return t.prev=6,t.next=9,c.addTodo(n);case 9:t.sent&&(o(null),a.current.value=""),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.log(t.t0);case 16:return t.abrupt("return");case 17:return o("Instructions are meant to be followed!"),t.abrupt("return");case 19:case"end":return t.stop()}}),t,null,[[6,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(i.jsxs)("form",{onSubmit:s,className:g.a.form,children:[Object(i.jsx)("label",{htmlFor:"text",children:'Start with a "Do"!'}),Object(i.jsx)("input",{type:"text",id:"text",autoComplete:"off",onChange:function(){return o(null)},ref:a}),n&&Object(i.jsx)("p",{className:g.a.error,children:n}),Object(i.jsx)("button",{children:"Add"})]})};var N=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(d,{}),Object(i.jsx)(C,{}),Object(i.jsx)(k,{})]})};c.a.render(Object(i.jsx)(T,{children:Object(i.jsx)(N,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.2bcf8726.chunk.js.map